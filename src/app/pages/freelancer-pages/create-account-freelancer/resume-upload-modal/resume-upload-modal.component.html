<div class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
  <div class="bg-white rounded-lg p-6 max-w-lg w-full">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-2xl font-semibold">Add your resume</h2>
      <button (click)="closeModal()" class="text-gray-500 text-2xl">&times;</button>
    </div>
    <p class="mb-4" [ngClass]="{ 'text-red-500': isError }">
      Use a PDF, Word doc, or rich text file - make sure it's 10MB or less.
    </p>

    <div
      class="border-dashed border-2 border-gray-300 rounded-lg p-6 text-center h-64 flex flex-col justify-center items-center"
      [ngClass]="{ 'border-red-500': isError, 'border-gray-300': !isError }"
      (drop)="onFileDrop($event)"
      (dragover)="onDragOver($event)"
      (dragleave)="onDragLeave($event)"
    >
      <ng-container *ngIf="!isLoading && !resumeUploaded">
       <svg
       width="100px"
       width="200px"
          data-name="Layer 1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 0 145 130"
          aria-hidden="true"
          role="img"
        >
          <defs>
            <radialGradient
              id="freelancer-resume-132-c-uid-53"
              cx="15.04"
              cy="3.6"
              r="1.74"
              gradientUnits="userSpaceOnUse"
            >
              <stop offset="0" stop-color="#14a800"></stop>
              <stop offset=".33" stop-color="#14a500"></stop>
              <stop offset=".56" stop-color="#149c00"></stop>
              <stop offset=".75" stop-color="#138d00"></stop>
              <stop offset=".92" stop-color="#127800"></stop>
              <stop offset="1" stop-color="#126b00"></stop>
            </radialGradient>
            <radialGradient
              id="freelancer-resume-132-d-uid-53"
              cx="9.67"
              cy="3.6"
              r="1.74"
              gradientUnits="userSpaceOnUse"
            >
              <stop offset="0" stop-color="#01cdbe"></stop>
              <stop offset=".26" stop-color="#02cabe"></stop>
              <stop offset=".44" stop-color="#04c1be"></stop>
              <stop offset=".59" stop-color="#08b2bf"></stop>
              <stop offset=".73" stop-color="#0d9dc0"></stop>
              <stop offset=".85" stop-color="#1481c1"></stop>
              <stop offset=".97" stop-color="#1d60c3"></stop>
              <stop offset="1" stop-color="#1f57c3"></stop>
            </radialGradient>
            <radialGradient
              id="freelancer-resume-132-a-uid-53"
              cx="126.96"
              cy="42.84"
              r="2.23"
              gradientUnits="userSpaceOnUse"
            >
              <stop offset=".38" stop-color="#f7b0b2"></stop>
              <stop offset=".59" stop-color="#f5aeb0"></stop>
              <stop offset=".69" stop-color="#eda7aa"></stop>
              <stop offset=".76" stop-color="#e09b9f"></stop>
              <stop offset=".83" stop-color="#ce8a8f"></stop>
              <stop offset=".88" stop-color="#b6747b"></stop>
              <stop offset=".92" stop-color="#a06069"></stop>
            </radialGradient>
            <radialGradient
              id="freelancer-resume-132-g-uid-53"
              cx="108.87"
              cy="37.55"
              r="18.71"
              href="https://www.upwork.com/nx/create-profile/resume-import#freelancer-resume-132-a-uid-53"
            ></radialGradient>
            <radialGradient
              id="freelancer-resume-132-h-uid-53"
              cx="109"
              cy="31.65"
              r="16.03"
              gradientUnits="userSpaceOnUse"
            >
              <stop offset=".38" stop-color="#eb9546"></stop>
              <stop offset=".6" stop-color="#e99345"></stop>
              <stop offset=".71" stop-color="#e48b3f"></stop>
              <stop offset=".79" stop-color="#db7e37"></stop>
              <stop offset=".86" stop-color="#cf6c2a"></stop>
              <stop offset=".92" stop-color="#be541a"></stop>
              <stop offset=".92" stop-color="#bc5118"></stop>
            </radialGradient>
            <radialGradient
              id="freelancer-resume-132-i-uid-53"
              cx="113"
              cy="42.19"
              r="3.4"
              gradientTransform="matrix(1 0 0 1.15 0 -6.31)"
              gradientUnits="userSpaceOnUse"
            >
              <stop offset=".38" stop-color="#a06069"></stop>
              <stop offset=".59" stop-color="#a2626b"></stop>
              <stop offset=".69" stop-color="#aa6971"></stop>
              <stop offset=".76" stop-color="#b7757c"></stop>
              <stop offset=".83" stop-color="#c9868c"></stop>
              <stop offset=".88" stop-color="#e19ca0"></stop>
              <stop offset=".92" stop-color="#f7b0b2"></stop>
            </radialGradient>
            <radialGradient
              id="freelancer-resume-132-j-uid-53"
              cx="107.41"
              cy="64.37"
              r="15.09"
              gradientTransform="rotate(-19.06 -18.173 85.448) scale(1 1.66)"
              gradientUnits="userSpaceOnUse"
            >
              <stop offset=".38" stop-color="#f66dbc"></stop>
              <stop offset=".59" stop-color="#f46cba"></stop>
              <stop offset=".69" stop-color="#ec68b5"></stop>
              <stop offset=".77" stop-color="#df62ac"></stop>
              <stop offset=".84" stop-color="#cd599e"></stop>
              <stop offset=".9" stop-color="#b54e8d"></stop>
              <stop offset=".92" stop-color="#a84884"></stop>
            </radialGradient>
            <radialGradient
              id="freelancer-resume-132-k-uid-53"
              cx="107.27"
              cy="66.56"
              r="7.14"
              gradientTransform="matrix(.99 .16 -.25 1.58 17.79 -55.04)"
              gradientUnits="userSpaceOnUse"
            >
              <stop offset=".37" stop-color="#a84884" stop-opacity="0"></stop>
              <stop offset=".54" stop-color="#a84884" stop-opacity=".01"></stop>
              <stop offset=".63" stop-color="#a84884" stop-opacity=".06"></stop>
              <stop offset=".69" stop-color="#a84884" stop-opacity=".14"></stop>
              <stop offset=".75" stop-color="#a84884" stop-opacity=".25"></stop>
              <stop offset=".8" stop-color="#a84884" stop-opacity=".39"></stop>
              <stop offset=".84" stop-color="#a84884" stop-opacity=".57"></stop>
              <stop offset=".89" stop-color="#a84884" stop-opacity=".77"></stop>
              <stop offset=".92" stop-color="#a84884"></stop>
            </radialGradient>
            <linearGradient
              id="freelancer-resume-132-b-uid-53"
              x1="49.96"
              y1="92.08"
              x2="49.96"
              gradientUnits="userSpaceOnUse"
            >
              <stop offset="0" stop-color="#f2f7f2"></stop>
              <stop offset=".62" stop-color="#f0f5f0"></stop>
              <stop offset=".91" stop-color="#e8efe8"></stop>
              <stop offset="1" stop-color="#e4ebe4"></stop>
            </linearGradient>
            <linearGradient
              id="freelancer-resume-132-e-uid-53"
              x1="84.67"
              y1="67.28"
              x2="55.05"
              y2="129.48"
              gradientUnits="userSpaceOnUse"
            >
              <stop offset=".58" stop-color="#e4ebe4"></stop>
              <stop offset=".73" stop-color="#e1e9e1"></stop>
              <stop offset=".82" stop-color="#d9e2d9"></stop>
              <stop offset=".91" stop-color="#cad7ca"></stop>
              <stop offset=".93" stop-color="#c3d2c3"></stop>
            </linearGradient>
            <linearGradient
              id="freelancer-resume-132-f-uid-53"
              x1="54.43"
              y1="119.94"
              x2="49.65"
              y2="125.75"
              gradientUnits="userSpaceOnUse"
            >
              <stop offset=".22" stop-color="#fff"></stop>
              <stop offset=".7" stop-color="#e2eae2"></stop>
              <stop offset="1" stop-color="#d5e0d5"></stop>
            </linearGradient>
          </defs>
          <path
            d="M95.62 3.19L93.53 1v1l.13.23H10.79a3.13 3.13 0 00-3.13 3.1v85.35l-1.21.46 2.1 2.21a3.13 3.13 0 002.24.94H91.6a4.88 4.88 0 004.88-4.88V5.33a3.1 3.1 0 00-.86-2.14z"
            fill="#c3d2c3"
          ></path>
          <rect
            x="5.55"
            width="88.82"
            height="92.08"
            rx="3.13"
            fill="url(#freelancer-resume-132-b-uid-53)"
          ></rect>
          <rect
            x="43.6"
            y="55.8"
            width="26.53"
            height="1.18"
            rx=".59"
            fill="#14a800"
          ></rect>
          <rect
            x="43.6"
            y="61.48"
            width="26.53"
            height="1.18"
            rx=".59"
            fill="#14a800"
          ></rect>
          <path
            d="M39.78 41v51.1h51.47a3.13 3.13 0 003.12-3.1V41z"
            fill="#c3d2c3"
          ></path>
          <path
            d="M69.54 27.92H44.18a.58.58 0 01-.58-.59.58.58 0 01.58-.58h25.36a.59.59 0 01.59.58.59.59 0 01-.59.59zm.59 5.08a.59.59 0 00-.59-.59H44.18a.58.58 0 00-.58.59.59.59 0 00.58.59h25.36a.6.6 0 00.59-.59z"
            fill="#14a800"
          ></path>
          <path
            d="M91.25 0H8.68a3.13 3.13 0 00-3.13 3.13v4.92h88.82V3.13A3.13 3.13 0 0091.25 0z"
            fill="#d5e0d5"
          ></path>
          <path
            d="M17.13 4a1.74 1.74 0 11-1.73-1.71A1.73 1.73 0 0117.13 4z"
            fill="url(#freelancer-resume-132-c-uid-53)"
          ></path>
          <path
            d="M11.76 4A1.74 1.74 0 1110 2.29 1.73 1.73 0 0111.76 4z"
            fill="url(#freelancer-resume-132-d-uid-53)"
          ></path>
          <rect
            x="16.86"
            y="19.65"
            width="20.99"
            height="20.99"
            rx="10.49"
            fill="#d5e0d5"
          ></rect>
          <path
            d="M26.22 34.92a1.45 1.45 0 01-.87-.33L20.92 31a1.49 1.49 0 111.87-2.31l3.39 2.73 5.62-5.63a1.49 1.49 0 012.11 2.11l-6.57 6.57a1.51 1.51 0 01-1.12.45z"
            fill="#14a800"
          ></path>
          <rect
            x="16.86"
            y="49.01"
            width="20.99"
            height="20.99"
            rx="10.49"
            fill="#d5e0d5"
          ></rect>
          <path
            d="M26.22 64.28a1.59 1.59 0 01-.87-.33l-4.43-3.57a1.49 1.49 0 011.87-2.32l3.39 2.73 5.62-5.63a1.49 1.49 0 012.11 2.11l-6.57 6.57a1.56 1.56 0 01-1.12.44z"
            fill="#14a800"
          ></path>
          <path
            d="M44.36 120.54c5.15 3 12.82 7.55 14 8.21 2.22 1.22 4.81 1.25 7 1.25H111V38.65H42.11V117a3.58 3.58 0 001.24 2.77 5.77 5.77 0 001.01.77z"
            fill="url(#freelancer-resume-132-e-uid-53)"
          ></path>
          <path
            d="M84.51 49.81A25.59 25.59 0 00110.1 75.4h.9V38.65H87.07a25.44 25.44 0 00-2.56 11.16z"
            fill="#d5e0d5"
          ></path>
          <path
            d="M44.36 120.54c5.23 3.08 12.71 7.44 14 8.21-2.54-1.48-7-11.41-7-11.41-1.73.49-4.73 5.08-8 2.44a5.77 5.77 0 001 .76z"
            fill="url(#freelancer-resume-132-f-uid-53)"
          ></path>
          <path
            d="M55.25 75.41a.75.75 0 01.75-.75h42.56a.75.75 0 01.75.75.76.76 0 01-.75.75H56a.76.76 0 01-.75-.75zm.75 8.2h42.56a.76.76 0 00.75-.75.75.75 0 00-.75-.75H56a.75.75 0 00-.75.75.76.76 0 00.75.75zm0 7.44h42.56a.75.75 0 00.75-.75.76.76 0 00-.75-.75H56a.76.76 0 00-.75.75.75.75 0 00.75.75zm0 7.45h42.56a.75.75 0 00.75-.75.76.76 0 00-.75-.75H56a.76.76 0 00-.75.75.75.75 0 00.75.75zm0 7.5h32.39a.76.76 0 00.75-.75.75.75 0 00-.75-.75H56a.75.75 0 00-.75.75.76.76 0 00.75.75zm7.29-47.26h1.33a4.24 4.24 0 00-.71-1.86 4 4 0 00-1.55-1.33 4.85 4.85 0 00-2.23-.5 4.59 4.59 0 00-2.53.71 4.66 4.66 0 00-1.73 1.94 6.77 6.77 0 000 5.66 4.75 4.75 0 001.73 2 4.59 4.59 0 002.53.71 4.78 4.78 0 002.25-.51A4 4 0 0063.93 64a4.84 4.84 0 00.69-2h-1.33a3.26 3.26 0 01-.38 1.36 2.75 2.75 0 01-1 1.06 3.46 3.46 0 01-1.75.41 3.17 3.17 0 01-2-.61A3.61 3.61 0 0157 62.6a5.91 5.91 0 01-.38-2.12 5.8 5.8 0 01.38-2.1 3.58 3.58 0 011.18-1.59 3.22 3.22 0 012-.6 3 3 0 012.23.76 3.45 3.45 0 01.88 1.74zm2.35-3.48l3.69 10.55h1.46l3.69-10.55h-1.4l-3 9.22-3-9.22z"
            fill="#a18085"
          ></path>
          <circle cx="113.85" cy="47.14" r="25.59" fill="#f2f7f2"></circle>
          <path
            d="M126.73 41.88a.8.8 0 01-.81-.78l-1 5a.82.82 0 011.06-.42 1.93 1.93 0 00.87.17 2 2 0 00-.08-4z"
            fill="url(#freelancer-resume-132-a-uid-53)"
          ></path>
          <path
            d="M113.85 72.74a25.42 25.42 0 0012.63-3.33l-6.11-10.13a12.29 12.29 0 00-3.1-3.43l1.08-2.14a6.65 6.65 0 012.28-2.57 11.84 11.84 0 10-16.12-2.92 4.33 4.33 0 01.63 3.8 4.87 4.87 0 01-2.31 2.84 12.2 12.2 0 00-6 7.7l-.77 3a25.5 25.5 0 0017.79 7.18z"
            fill="url(#freelancer-resume-132-g-uid-53)"
          ></path>
          <path
            d="M112.92 39.76c2.78 1.36 9.81-.29 11.82-3.61a11.83 11.83 0 10-20.23 12.07c9.61 1.02 4.27-10.65 8.41-8.46z"
            fill="url(#freelancer-resume-132-h-uid-53)"
          ></path>
          <path
            d="M112.92 40.57a1.89 1.89 0 00-1.85-1.92 1.88 1.88 0 00-1.6 2.9 1.51 1.51 0 01.18 1.32 1.89 1.89 0 00-.08.53 1.61 1.61 0 003.22 0"
            fill="url(#freelancer-resume-132-i-uid-53)"
          ></path>
          <path
            d="M113.85 72.74a25.42 25.42 0 0012.63-3.33l-6.11-10.13a12.25 12.25 0 00-10.47-5.9h-1.25a12.23 12.23 0 00-11.84 9.18l-.77 3a25.5 25.5 0 0017.81 7.18z"
            fill="url(#freelancer-resume-132-j-uid-53)"
          ></path>
          <path
            d="M107.5 71.94a25.58 25.58 0 006.35.8c.74 0 1.48 0 2.2-.1l-2.71-5.27-2.92-5.64z"
            fill="url(#freelancer-resume-132-k-uid-53)"
          ></path>
        </svg>
         <p class="text-gray-600 mt-4">
          drag and drop or
          <span class="text-green-500 cursor-pointer" (click)="triggerFileInput()">choose file</span>
        </p>
        <input
          accept=".pdf,.doc,.docx,.rtf"
          #fileInput
          type="file"
          id="resume"
          name="resume"
          class="hidden"
          (change)="onFileSelected($event)"
        />
      </ng-container>

      <ng-container *ngIf="isLoading">
        <div class="w-full">
          <div class="text-center mb-2">Uploading...</div>
          <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-green-100">
            <div
              class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-black"
              [style.width.%]="loadingProgress"
            ></div>
          </div>
        </div>
      </ng-container>

      <ng-container *ngIf="resumeUploaded">
        <div class="flex items-center justify-center w-full">
          <span class="truncate max-w-xs">{{ uploadedFileName }}.{{uploadedFileFormat}}</span>
          <button type="button" (click)="removeFile()" class="ml-2 text-gray-500 text-lg remove-button">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              height="24px"
              viewBox="0 -960 960 960"
              width="24px"
              fill="#4bb97b"
            >
              <path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z" />
            </svg>
          </button>
        </div>
      </ng-container>
    </div>

    <div *ngIf="isError" class="text-red-500 mt-2">
      {{ errorMessage }}
    </div>

    <div class="flex justify-end mt-4">
      <button
        (click)="closeModal()"
        class="bg-green-500 text-white py-2 px-4 rounded-lg"
        [disabled]="isLoading"
      >
        {{ isLoading ? "Uploading..." : (resumeUploaded ? "Done" : "Cancel") }}
      </button>
    </div>
  </div>
</div>